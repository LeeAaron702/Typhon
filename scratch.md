# Media Processing API

This is a FastAPI application that provides various tools for media processing, including audio/video separation, YouTube video downloading, media transcription, bulk image compression, Instagram reel downloading, and Instagram audio/video analysis. It also includes user authentication and logging capabilities.

## Features

### User Authentication

- **Create New User Accounts**: Users can create new accounts by providing a username and password. Passwords are securely hashed using `bcrypt` before storing them in the database.
- **Obtain JWT Tokens**: Authenticated users can obtain JSON Web Tokens (JWT) for accessing protected API endpoints. The tokens are generated using the `jose` library and are valid for a specified duration (e.g., 60 minutes).
- **Token-based Authentication**: The API uses the `OAuth2PasswordBearer` scheme for token-based authentication. Users need to include a valid JWT token in the `Authorization` header when making requests to protected endpoints.

### Audio/Video Separation

- **Separate Audio and Video**: This endpoint allows separating the audio and video components from a media file.
- **Input Sources**: Users can provide either a YouTube video URL or upload a local media file (supported formats: `mp4`, `mov`, `avi`, `mkv`).
- **Return Options**: Users can choose to receive either the separated audio file (in `mp3` format) or the video file itself.
- **File Handling**: The uploaded files are temporarily stored in a `processed` directory for processing and are deleted after the response is sent.

### YouTube Video Downloading

- **Download YouTube Videos**: This endpoint enables users to download YouTube videos by providing the video URL.
- **Video Quality**: The API automatically selects the highest available video resolution for downloading.
- **File Naming**: The downloaded video files are named based on the YouTube video title, with any invalid characters removed for compatibility.
- **Response Format**: The downloaded video file is returned as a `FileResponse` for seamless downloading by the client.

### Media Transcription

- **Transcribe Audio/Video**: This endpoint transcribes the audio content from an audio or video file into text.
- **Input Sources**: Users can provide either a YouTube video URL or upload a local media file.
- **Transcription Engine**: The API uses the `faster_whisper` library, which is a high-performance implementation of the Whisper speech recognition model.
- **Output Format**: The transcribed text is saved in a text file and returned as a ZIP archive, along with the original media file.
- **Concurrent Processing**: The transcription process is offloaded to a separate thread pool to improve performance and responsiveness.

### Bulk Image Compression

- **Compress Multiple Images**: This endpoint allows users to compress multiple images in bulk, reducing their file sizes while maintaining reasonable quality.
- **Input Format**: Users can upload individual image files or a ZIP archive containing multiple images (supported formats: `jpg`, `jpeg`, `png`).
- **Compression Settings**: Users can specify the desired compression quality level (`high`, `medium`, `low`, `very low`).
- **Size Threshold**: Users can set a size threshold (in kilobytes) to determine which images should be compressed.
- **Output Format**: The compressed images are returned as a ZIP archive for easy download.

### Instagram Reel Downloading

- **Download Instagram Reels**: This endpoint enables users to download Instagram reels by providing the reel URL.
- **Reel Handling**: The API uses the `instaloader` library to download the reel video and any associated metadata.
- **Caption Extraction**: The caption text of the reel is extracted and saved as a separate text file.
- **Output Format**: The downloaded reel video and caption file are packaged into a ZIP archive and returned as a `FileResponse`.

### Instagram Audio/Video Analysis

- **Analyze Instagram Reels**: This endpoint performs comprehensive analysis on the audio and video components of an Instagram reel.
- **Input**: Users provide the URL of the Instagram reel they want to analyze.
- **Analysis Process**:
  1. The reel video is downloaded using `instaloader`.
  2. The audio is extracted from the video and transcribed using `faster_whisper`.
  3. Video frames are extracted at a specified frequency and sent to OpenAI's GPT-4 model for analysis and description.
  4. A final summary is generated by combining the transcription and frame descriptions, focusing on technical aspects and highlighting any relevant technologies, software, or coding practices.
- **Output Format**: The analysis results, including the final summary and any intermediate files (e.g., transcription, frame descriptions), are packaged into a ZIP archive and returned for download.

### User Activity Logging

- **Log User Actions**: Whenever a user performs an action (e.g., authentication, API request), the application logs the user's username, action details, and a timestamp.
- **Discord Webhook Integration**: The log messages are sent to a Discord webhook for centralized monitoring and alerting.
- **Error Logging**: Any errors or exceptions that occur during API requests are also logged and sent to the Discord webhook.

API Endpoints
Authentication
POST /auth: Create a new user account
Request body: { "username": "your_username", "password": "your_password" }
Returns a success message upon user creation
POST /auth/token: Obtain a JWT token for authentication
Request body: { "username": "your_username", "password": "your_password" }
Returns an access token and token type
Tools
POST /tools/separate_audio_video: Separate audio and video from a media file
Request body (YouTube URL): { "youtube_url": "https://www.youtube.com/watch?v=VIDEO_ID" }
Request body (File Upload): { "file": "path/to/media/file" }
Query parameter: return_type (optional, default: audio) - Specifies whether to return the audio or video file
Returns the separated audio (.mp3) or video (.mp4) file
POST /tools/download_youtube_video: Download a YouTube video
Request body: { "youtube_url": "https://www.youtube.com/watch?v=VIDEO_ID" }
Returns the downloaded video file
POST /tools/transcribe_media: Transcribe audio or video media
Request body (YouTube URL): { "youtube_url": "https://www.youtube.com/watch?v=VIDEO_ID" }
Request body (File Upload): { "file": "path/to/media/file" }
Returns a ZIP archive containing the transcribed text file and the original media file
POST /tools/bulk_image_compression: Compress multiple images in bulk
Request body: { "files": ["path/to/image1.jpg", "path/to/image2.png", ...] }
Query parameters:
quality (optional, default: high) - Specifies the compression quality level (high, medium, low, very low)
size_threshold (optional, default: 500) - Specifies the size threshold (in kilobytes) for determining which images to compress
Returns a ZIP archive containing the compressed image files
POST /tools/download_instagram_reel: Download an Instagram reel
Request body: { "reel_url": "https://www.instagram.com/reel/REEL_ID" }
Returns a ZIP archive containing the downloaded video file and the reel caption (if available)
POST /tools/analyze_instagram_audio_video: Analyze audio and video components of an Instagram reel
Request body: { "url": "https://www.instagram.com/reel/REEL_ID" }
Returns a ZIP archive containing the analysis results, including the final summary, transcription, frame descriptions, and any other intermediate files


# Media Processing App

This is a React application that provides a user-friendly interface for various media processing tools, including audio/video separation, YouTube video downloading, media transcription, bulk image compression, and Instagram content analysis.

Media Processing App
Introduction
The Media Processing App is a comprehensive React-based web application designed to offer a variety of media processing capabilities. It supports user authentication, audio/video separation, YouTube video downloading, media transcription, bulk image compression, and Instagram content analysis. The application provides a user-friendly interface, making it accessible for both technical and non-technical users.

Features
User Authentication: Secure access through JWT tokens, ensuring that only authenticated users can access the app's features.
Audio/Video Separation: Users can extract audio from video files, including those from YouTube URLs, and download the output.
YouTube Video Downloading: Allows for downloading YouTube videos in the highest resolution available.
Media Transcription: Converts audio or video files into text format for accessibility or content repurposing.
Bulk Image Compression: Offers the ability to compress multiple images simultaneously, with adjustable quality levels to balance quality and file size.
Instagram Content Analysis: Analyzes Instagram posts from provided URLs and downloads a summary, assisting in content strategy and research.

## Features

- **User Authentication**: Users can authenticate using JWT tokens to access the application's features.
- **Audio/Video Separation**: Extract audio from video files or YouTube URLs for download.
- **YouTube Video Downloading**: Download YouTube videos in the highest available resolution.
- **Media Transcription**: Transcribe audio or video media files to text.
- **Bulk Image Compression**: Compress multiple images in bulk with different quality levels.
- **Instagram Content Analysis**: Analyze Instagram posts by providing the URL, and download a summary of the content.


Components
App.jsx
This is the main component that renders the application and provides the authentication context using the AuthProvider.

AuthContext.jsx
This file contains the AuthContext and AuthProvider components for managing user authentication state and token-based authentication.

Navbar.jsx
This component renders the navigation bar at the top of the application.

Dashboard.jsx
This component displays the available tools as cards and handles the modal for showing the individual tool components.

AudioVideoSeparator.jsx
This component provides a form for separating audio from video files or YouTube URLs.

YoutubeDownloader.jsx
This component allows users to enter a YouTube video URL and download the video in the highest available resolution.

MediaTranscriber.jsx
This component enables users to transcribe audio or video media files to text.

BulkImageCompressor.jsx
This component provides a form for compressing multiple images in bulk with different quality levels.

InstagramAnalyzer.jsx
This component allows users to analyze Instagram posts by providing the URL and download a summary of the content

The Media Processing App is a state-of-the-art, React-based web application designed for a wide range of media processing tasks. It seamlessly integrates functionalities such as user authentication, audio/video separation, YouTube video downloading, media transcription, bulk image compression, and Instagram content analysis. This application exemplifies a modern web application's capabilities, leveraging React and associated technologies to provide a rich user experience.

Table of Contents
Features
Technologies
Component Architecture
Setup and Installation
Usage Examples
Contributing
License
Features
Detailed Feature Breakdown
User Authentication
Secure sign-in and registration flow.
JWT-based authentication system for accessing protected routes and features.
Audio/Video Separation
Extract audio from video files or YouTube URLs.
Downloadable output for immediate use.
YouTube Video Downloading
High-resolution video downloads from YouTube URLs.
Intuitive interface for quick and easy downloads.
Media Transcription
Converts speech in audio or video files to text.
Supports multiple file formats for broad usability.
Bulk Image Compression
Compress multiple images simultaneously without sacrificing significant quality.
Adjustable compression settings to suit different needs.
Instagram Content Analysis
Analyze Instagram posts for content insights.
Downloadable reports on analyzed content.
Technologies
React: For building the user interface.
Node.js and Express: Backend server (if applicable).
MongoDB: Database for storing user data and processing records (if applicable).
JWT: For authentication and authorization.
Component Architecture
The application is structured into several key React components, each responsible for a specific aspect of the application's functionality.

App.jsx - The Core Application Component
App.jsx serves as the entry point for the React application. It sets up the routing and global state management context, including the authentication context.

jsx
Copy code
// Simplified example of App.jsx
import React from 'react';
import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';
import { AuthProvider } from './AuthContext';
import Dashboard from './Dashboard';
import SignIn from './Signin';
import SignUp from './Signup';

function App() {
  return (
    <Router>
      <AuthProvider>
        <Switch>
          <Route path="/signin" component={SignIn} />
          <Route path="/signup" component={SignUp} />
          <Route path="/" component={Dashboard} />
        </Switch>
      </AuthProvider>
    </Router>
  );
}

export default App;
AuthContext.jsx - Managing Authentication State
AuthContext.jsx defines the context for authentication, providing a way to share the auth state and logic across the application.

jsx
Copy code
// Example from AuthContext.jsx
const AuthContext = createContext(null);

export const AuthProvider = ({ children }) => {
  const [auth, setAuth] = useState({
    token: null,
    isAuthenticated: false,
    username: null
  });

  // Authentication logic here

  return (
    <AuthContext.Provider value={{ ...auth }}>
      {children}
    </AuthContext.Provider>
  );
};
Feature Components
AudioVideoSeparator.jsx: Showcases the use of external APIs for processing media and handling state management for user inputs and outputs.

YoutubeDownloader.jsx: Demonstrates integration with YouTube's API and includes error handling and user feedback mechanisms.

MediaTranscriber.jsx: Features complex state management and showcases handling of asynchronous operations with media files.

BulkImageCompressor.jsx: Illustrates the use of canvas API for image processing in React and managing file inputs/outputs.

InstagramAnalyzer.jsx: Highlights the use of third-party APIs for scraping and analyzing social media content.


The Media Processing App is a sophisticated React application designed to offer a suite of tools for media processing, including audio/video separation, YouTube video downloading, media transcription, bulk image compression, and Instagram content analysis. It leverages modern web technologies, APIs, and React's powerful features to deliver a seamless and efficient user experience.

Key Features & Components
Audio/Video Separation (AudioVideoSeparator.jsx)
Description: This component enables users to separate audio from video files, including direct YouTube URL inputs. It utilizes external APIs to process the media and manage the state for user inputs and outputs efficiently.
Technologies & Methods:
External Media Processing APIs for audio extraction.
React hooks for state and context management.
Code Example:
jsx
Copy code
// Example: State management and API request
const [videoURL, setVideoURL] = useState('');
const handleSeparation = async () => {
  const response = await mediaProcessingAPI.extractAudio(videoURL);
  setOutput(response.data.audioFile);
};
Highlights: Demonstrates the application's ability to interact with complex APIs and manage asynchronous operations within the React lifecycle.
YouTube Video Downloading (YoutubeDownloader.jsx)
Description: Facilitates downloading YouTube videos in various resolutions, integrating directly with YouTube's API. It features robust error handling and provides immediate user feedback.
Technologies & Methods:
YouTube API for fetching video data.
Custom error handling to manage API limitations and user errors.
Code Example:
jsx
Copy code
// Example: Fetching video and handling errors
const downloadVideo = async (videoId) => {
  try {
    const videoData = await youtubeAPI.getVideo(videoId);
    if (videoData.status === 'available') {
      download(videoData.url);
    }
  } catch (error) {
    console.error("Error downloading video: ", error);
    alertUser("Video cannot be downloaded.");
  }
};
Highlights: Showcases error handling and user interaction, ensuring a smooth user experience even when facing API restrictions or errors.
Media Transcriber (MediaTranscriber.jsx)
Description: Allows users to transcribe audio and video files into text, featuring complex state management and handling asynchronous operations with media files.
Technologies & Methods:
Web APIs for media transcription.
Use of async/await for managing asynchronous code execution.
Code Example:
jsx
Copy code
// Example: Transcribing media
const [transcription, setTranscription] = useState('');
const transcribeMedia = async (mediaFile) => {
  const transcriptionResult = await transcriptionAPI.transcribe(mediaFile);
  setTranscription(transcriptionResult.text);
};
Highlights: Demonstrates handling of heavy asynchronous operations and state management in React, providing a template for working with media files and long-running processes.
Bulk Image Compressor (BulkImageCompressor.jsx)
Description: Employs the canvas API for image processing, allowing users to compress multiple images in bulk while managing file inputs/outputs.
Technologies & Methods:
Canvas API for manipulating image quality.
React file handling for bulk operations.
Code Example:
jsx
Copy code
// Example: Compressing images using Canvas API
const compressImage = (imageFile) => {
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  // Resize and compress logic here
  return compressedImageBlob;
};
Highlights: Illustrates advanced client-side image processing in React, showcasing the use of the Canvas API for direct manipulation of image data.
Instagram Content Analyzer (InstagramAnalyzer.jsx)
Description: Analyzes Instagram posts by scraping content and provides a downloadable summary. It showcases the use of third-party APIs for scraping and analyzing social media content.
Technologies & Methods:
Third-party APIs for social media content analysis.
Complex state management for handling user inputs and API responses.
Code Example:
jsx
Copy code
// Example: Analyzing Instagram content
const analyzeInstagramPost = async (postUrl) => {
  const analysisResults = await instagramAnalysisAPI.analyze(postUrl);
  setAnalysis(analysisResults.summary);
};
Highlights: Demonstrates the application's capability to integrate with external data sources and present analyzed data in a user-friendly manner.
Getting Started
(Include detailed setup instructions here


Media Processing App README
Introduction
The Media Processing App is a React-based application designed to offer a suite of tools for media processing tasks. It provides functionalities such as audio/video separation, YouTube video downloading, media transcription, bulk image compression, and Instagram content analysis. This project demonstrates expertise in React, integration with external APIs, state management, and handling of asynchronous operations.

Key Features and Components
AudioVideoSeparator.jsx
Description: This component allows users to separate audio from video files, supporting both local video files and YouTube URLs. It showcases the integration with external APIs for processing media and the React state management for handling user inputs and outputs.

Key Highlights:

External API Integration: Demonstrates the ability to integrate and interact with media processing APIs to extract audio from video content.
State Management: Uses React's useState hook to manage the state of user inputs, processing status, and the output link for the separated audio.
User Feedback: Implements loading indicators and success/error messages to enhance user experience.
Example Code Snippet:

jsx
Copy code
// Example showing state management and API call
const [videoURL, setVideoURL] = useState('');
const [audioLink, setAudioLink] = useState('');
const [isLoading, setIsLoading] = useState(false);

const handleAudioExtraction = async () => {
  setIsLoading(true);
  try {
    const audioOutput = await extractAudioAPI(videoURL);
    setAudioLink(audioOutput);
  } catch (error) {
    console.error("Error extracting audio: ", error);
  } finally {
    setIsLoading(false);
  }
};
YoutubeDownloader.jsx
Description: This component facilitates downloading YouTube videos by integrating with YouTube's API. It features error handling and provides user feedback mechanisms to indicate the download status.

Key Highlights:

YouTube API Integration: Illustrates the process of integrating with YouTube's API to fetch video details and download links.
Error Handling: Implements comprehensive error handling to manage and inform the user of any issues during the download process.
Progress Feedback: Utilizes React state to provide real-time feedback to the user, including download progress and status messages.
Example Code Snippet:

jsx
Copy code
// Example demonstrating YouTube API integration and error handling
const [videoId, setVideoId] = useState('');
const [downloadLink, setDownloadLink] = useState('');
const [errorMessage, setErrorMessage] = useState('');

const fetchVideoDownloadLink = async () => {
  try {
    const link = await getYoutubeDownloadLink(videoId);
    setDownloadLink(link);
  } catch (error) {
    setErrorMessage("Failed to fetch the download link. Please try again.");
  }
};
MediaTranscriber.jsx
Description: Enables transcription of audio and video files to text, featuring complex state management and asynchronous operation handling.

Key Highlights:

Asynchronous Operations: Showcases handling of asynchronous operations, such as uploading media files and retrieving transcriptions.
Complex State Management: Utilizes React's state management to keep track of multiple states, including file upload status, transcription progress, and the final text output.
User Interaction: Provides a user interface for uploading files, displays transcription progress, and shows the final transcribed text upon completion.
Example Code Snippet:

jsx
Copy code
// Example illustrating asynchronous file upload and transcription
const [file, setFile] = useState(null);
const [transcription, setTranscription] = useState('');
const [isTranscribing, setIsTranscribing] = useState(false);

const handleTranscription = async () => {
  setIsTranscribing(true);
  try {
    const transcript = await transcribeFile(file);
    setTranscription(transcript);
  } catch (error) {
    console.error("Error during transcription: ", error);
  } finally {
    setIsTranscribing(false);
  }
};
BulkImageCompressor.jsx
Description: This component allows users to compress multiple images in bulk, illustrating the use of the canvas API for image processing in React and managing file inputs/outputs.

Key Highlights:

Canvas API for Image Processing: Demonstrates the use of the canvas API to adjust image quality and compress images.
File Management: Manages file inputs from the user and generates compressed images as outputs, showcasing efficient handling of file blobs and URLs.
Batch Processing: Implements logic to process multiple images in parallel, enhancing the tool's efficiency and user experience.
Example Code Snippet:

jsx
Copy code
// Example showing canvas API usage for image compression
const compressImages = async (images) => {
  const compressedImages = [];
  for (const image of images) {
    const canvas = document.createElement('canvas');
    // Compress and resize logic here
    compressedImages.push(canvas.toDataURL('image/jpeg', 0.5));
  }
  return compressedImages;
};
InstagramAnalyzer.jsx
Description: Analyzes Instagram posts by scraping and processing content from provided URLs, highlighting integration with third-party APIs and social media content analysis.

Key Highlights:

Social Media API Integration: Showcases the ability to fetch and analyze data from Instagram posts, using API calls to scrape content.
Content Analysis: Implements algorithms to analyze Instagram content, providing insights and summaries of posts.
State Management and Feedback: Utilizes React state to manage the analysis process and provide real-time feedback to the user on the analysis status.
Example Code Snippet:

jsx
Copy code
// Example illustrating Instagram content analysis
const [postUrl, setPostUrl] = useState('');
const [analysisResult, setAnalysisResult] = useState('');
const [isAnalyzing, setIsAnalyzing] = useState(false);

const analyzeInstagramPost = async () => {
  setIsAnalyzing(true);
  try {
    const result = await fetchInstagramAnalysis(postUrl);
    setAnalysisResult(result);
  } catch (error) {
    console.error("Error analyzing Instagram post: ", error);
  } finally {
    setIsAnalyzing(false);
  }
};